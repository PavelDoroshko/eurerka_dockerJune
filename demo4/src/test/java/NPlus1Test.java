import com.example.demo4.dao.ITopicDao;
import lombok.RequiredArgsConstructor;

@RequiredArgsConstructor

public class NPlus1Test {
//
//    private    ICommentDao iCommentDao;
//    private ITopicDao iTopicDao;
//
//
//
//    @Test
//    @DisplayName("если fetch = FetchType.EAGER, то получаем в консоли N+1 select: 5+1")
//    public void whenEager_thenNplus1Problem() {
//
//
//
//            for (int i = 0; i < 5; i++) {
//                Topic topic = new Topic("topic" + i);
//                Comment comment = new Comment("comment" + i);
//                comment.setTopic(topic);
//                iCommentDao.save(comment);
//                iTopicDao.save(topic);
//
//            }
//
//
//        List<Comment> comments = iCommentDao.findAll();
//
//            Assertions.assertEquals(5, comments.size());
//            comments.forEach(comment -> System.out.println(comment.getText() + " " + comment.getTopic().getTitle()));
//}
    }

